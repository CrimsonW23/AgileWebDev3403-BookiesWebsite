{% extends 'base.html' %}

{% block content %}
<section class='game-board'>
  <!-- Controls: status filter & search bar -->
  <div class='controls'>
    <label for='statusFilter'>Status:</label>
    <select id='statusFilter'>
      <option value='all'>All</option>
      <option value='completed'>Completed</option>
      <option value='upcoming'>Upcoming</option>
      <option value='live'>Live</option>
    </select>

    <input type='text' id='searchInput' placeholder='Search team or player...'>
  </div>

  <!-- Sport‑specific sections (sample data – replace with dynamic content) -->
  <div class='sport-section' data-sport='NBA'>
    <h2>Basketball – NBA</h2>
    <ul class='games-list'>
      <li class='game-item' data-status='completed' data-search='Lakers Celtics LeBron James Jayson Tatum'>
        <span class='teams'>Lakers vs Celtics</span>
        <span class='score'>102&nbsp;–&nbsp;95</span>
        <span class='status completed'>Completed</span>
      </li>
      <li class='game-item' data-status='upcoming' data-search='Warriors Clippers Stephen Curry Kawhi Leonard'>
        <span class='teams'>Warriors vs Clippers</span>
        <span class='date'>28 Apr 2025 19:30</span>
        <span class='status upcoming'>Upcoming</span>
      </li>
      <li class='game-item' data-status='live' data-search='Bucks Heat Giannis Antetokounmpo Jimmy Butler'>
        <span class='teams'>Bucks vs Heat</span>
        <span class='clock'>3rd Q 05:22</span>
        <span class='status live'>Live</span>
      </li>
    </ul>
  </div>
  
  <div class='sport-section' data-sport='NRL'>
    <h2>Rugby League – NRL</h2>
    <ul class='games-list'>
      <li class='game-item' data-status='completed' data-search='Roosters Rabbitohs'>
        <span class='teams'>Roosters vs Rabbitohs</span>
        <span class='score'>24&nbsp;–&nbsp;18</span>
        <span class='status completed'>Completed</span>
      </li>
      <li class='game-item' data-status='upcoming' data-search='Storm Panthers'>
        <span class='teams'>Storm vs Panthers</span>
        <span class='date'>29 Apr 2025 20:10</span>
        <span class='status upcoming'>Upcoming</span>
      </li>
    </ul>
  </div>
  
  <div class='sport-section' data-sport='AFL'>
    <h2>Australian Rules – AFL</h2>
    <ul class='games-list'>
      <li class='game-item' data-status='live' data-search='Dockers Eagles'>
        <span class='teams'>Dockers vs Eagles</span>
        <span class='clock'>Q2 12:07</span>
        <span class='status live'>Live</span>
      </li>
    </ul>
  </div>
</section>

<!-- Inline styles specific to this page -->
<style>
  .game-board {
    padding: 1rem 2rem;
  }
  .controls {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
    align-items: center;
    margin-bottom: 1.5rem;
  }
  .controls select,
  .controls input {
    padding: 0.6rem 0.8rem;
    border: 1px solid #333;
    border-radius: 5px;
    background: #2a2a2a;
    color: #fff;
  }
  .sport-section {
    margin-bottom: 2rem;
  }
  .sport-section h2 {
    color: #00ff88;
    margin-bottom: 0.8rem;
    font-size: 1.6rem;
  }
  .games-list {
    list-style: none;
    padding-left: 0;
  }
  .game-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0.8rem 1rem;
    border-bottom: 1px solid #333;
    background: #1a1a1a;
    border-radius: 5px;
    margin-bottom: 0.5rem;
  }
  .game-item .status {
    font-weight: bold;
  }
  .status.completed { color: #00ff88; }
  .status.upcoming { color: #ffa500; }
  .status.live { color: #ff4c4c; }
</style>

<!-- Simple filtering logic -->
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const statusFilter = document.getElementById('statusFilter');
    const searchInput = document.getElementById('searchInput');
    const gameItems = Array.from(document.querySelectorAll('.game-item'));

    function filterGames() {
      const statusVal = statusFilter.value;
      const query = searchInput.value.toLowerCase();

      gameItems.forEach(item => {
        const matchesStatus = statusVal === 'all' || item.dataset.status === statusVal;
        const matchesQuery = item.dataset.search.toLowerCase().includes(query);
        item.style.display = (matchesStatus && matchesQuery) ? '' : 'none';
      });
    }

    statusFilter.addEventListener('change', filterGames);
    searchInput.addEventListener('input', filterGames);
  });
</script>

{% endblock %}
